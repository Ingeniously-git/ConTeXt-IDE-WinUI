<Application
    x:Class="ConTeXt_IDE.App"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:models="using:ConTeXt_IDE.Models"
    xmlns:helpers="using:ConTeXt_IDE.Helpers"
    xmlns:toolkit="using:CommunityToolkit.WinUI.UI.Controls"
    xmlns:animations="using:CommunityToolkit.WinUI.UI.Animations"
	xmlns:ui="using:CommunityToolkit.WinUI.UI"
    xmlns:vm="using:ConTeXt_IDE.ViewModels" 
    >
	<Application.Resources>
		<ResourceDictionary>
			<ResourceDictionary.MergedDictionaries>
				<XamlControlsResources xmlns="using:Microsoft.UI.Xaml.Controls" />
			</ResourceDictionary.MergedDictionaries>

			<vm:ViewModel x:Key="VM"></vm:ViewModel>

			<Style TargetType="StackPanel" x:Key="HorizontalStack">
				<Setter Property="Orientation" Value="Horizontal"></Setter>
				<Setter Property="Spacing" Value="6"></Setter>
			</Style>

			<Style TargetType="StackPanel" x:Key="VerticalStack">
				<Setter Property="Orientation" Value="Vertical"></Setter>
				<Setter Property="Spacing" Value="6"></Setter>
			</Style>
			
			<Style TargetType="StackPanel" x:Key="HorizontalStackNarrow">
				<Setter Property="Orientation" Value="Horizontal"></Setter>
				<Setter Property="Spacing" Value="0"></Setter>
			</Style>

			<Style TargetType="FontIcon">
				<Setter Property="FontFamily" Value="{ThemeResource SymbolThemeFontFamily}"></Setter>
				<Setter Property="Foreground" Value="{ThemeResource ForegroundColor}"></Setter>
			</Style>
			<Style TargetType="SymbolIcon">
				<Setter Property="Foreground" Value="{ThemeResource ForegroundColor}"></Setter>
			</Style>

			<AcrylicBrush x:Key="CustomAcrylicBackground" TintOpacity="0.7" TintLuminosityOpacity="{ThemeResource TintLuminosityOpacity}" TintColor="{ThemeResource BackgroundColor}" FallbackColor="{ThemeResource BackgroundColor}"></AcrylicBrush>

			<Style TargetType="Grid" x:Key="GridCell">
				<Setter Property="Padding" Value="12,12,12,12"></Setter>
				<Setter Property="ColumnSpacing" Value="6"></Setter>
				<Setter Property="RowSpacing" Value="6"></Setter>
				<Setter Property="HorizontalAlignment" Value="Stretch"></Setter>
				<Setter Property="VerticalAlignment" Value="Stretch"></Setter>
				<Setter Property="Background" Value="{ThemeResource CustomAcrylicBackground}" ></Setter>
			</Style>

			<Style TargetType="toolkit:GridSplitter" x:Key="RowSplitter">
				<Setter Property="Height" Value="6"></Setter>
				<Setter Property="ResizeBehavior" Value="PreviousAndNext"></Setter>
				<Setter Property="CursorBehavior" Value="ChangeOnSplitterHover"></Setter>
				<Setter Property="Background" Value="{ThemeResource SolidBackgroundFillColorTertiary}"></Setter>
				<Setter Property="GripperForeground" Value="{ThemeResource ForegroundLightColor}"></Setter>
				<Setter Property="FocusVisualPrimaryBrush" Value="DarkGray"></Setter>
				<Setter Property="FocusVisualSecondaryBrush" Value="DarkGray"></Setter>
				<!--<Setter Property="GripperCursor" Value="SizeNorthSouth"></Setter>-->
			</Style>

			<Style TargetType="toolkit:GridSplitter" x:Key="ColumnSplitter">
				<Setter Property="Width" Value="6"></Setter>
				<Setter Property="ResizeBehavior" Value="PreviousAndNext"></Setter>
				<Setter Property="CursorBehavior" Value="ChangeOnSplitterHover"></Setter>
				<Setter Property="Background" Value="{ThemeResource SolidBackgroundFillColorTertiary}"></Setter>
				<Setter Property="GripperForeground" Value="{ThemeResource ForegroundLightColor}"></Setter>
				<Setter Property="FocusVisualPrimaryBrush" Value="DarkGray"></Setter>
				<Setter Property="FocusVisualSecondaryBrush" Value="DarkGray"></Setter>
				<!--<Setter Property="GripperCursor" Value="SizeWestEast"></Setter>-->
			</Style>

			<Style x:Key="Separator" TargetType="Border">
				<Setter Property="BorderThickness" Value="1,0,0,0"></Setter>
				<Setter Property="Margin" Value="4,4,4,4"></Setter>
				<Setter Property="BorderBrush" Value="{ThemeResource ControlStrokeColorDefaultBrush}"></Setter>
			</Style>

			<CornerRadius x:Key="OverlayCornerRadius">0</CornerRadius>
			<CornerRadius x:Key="CornerRadius">4</CornerRadius>
			<CornerRadius x:Key="LargeCornerRadius">8</CornerRadius>
			<CornerRadius x:Key="CornerRadiusRight">0,4,4,0</CornerRadius>
			<CornerRadius x:Key="CornerRadiusLeft">4,0,0,4</CornerRadius>

			<!--<StaticResource x:Key="TabViewBorderBrush" ResourceKey="CardStrokeColorDefault" />-->
		

			<Style  TargetType="ContentDialog" >
				<Setter Property="CornerRadius" Value="{StaticResource LargeCornerRadius}"></Setter>
			</Style>
			
			<Style  TargetType="FlyoutPresenter" >
				<Setter Property="CornerRadius" Value="{StaticResource LargeCornerRadius}"></Setter>
			</Style>
			<Style  TargetType="MenuFlyoutPresenter" >
				<Setter Property="CornerRadius" Value="{StaticResource LargeCornerRadius}"></Setter>
			</Style>
			<Style  TargetType="DropDownButton" >
				<Setter Property="VerticalAlignment" Value="Stretch"></Setter>
				<Setter Property="CornerRadius" Value="{StaticResource CornerRadius}"></Setter>
				<Setter Property="BorderThickness" Value="1"></Setter>
			</Style>
			<Style  TargetType="Button" >
				<Setter Property="VerticalAlignment" Value="Stretch"></Setter>
				<Setter Property="CornerRadius" Value="{StaticResource CornerRadius}"></Setter>
				<Setter Property="BorderThickness" Value="1"></Setter>

			</Style>


			<Style  TargetType="TextBlock" x:Key="BtnTextBlock" BasedOn="{StaticResource CaptionTextBlockStyle}" >
			</Style>

			<Style  TargetType="ToggleButton">
				<Setter Property="VerticalAlignment" Value="Stretch"></Setter>
				<Setter Property="CornerRadius" Value="{StaticResource CornerRadius}"></Setter>
				<Setter Property="BorderThickness" Value="1"></Setter>
				<Setter Property="Foreground" Value="{ThemeResource ForegroundColor}"></Setter>
			</Style>
			<Style  TargetType="ToggleSplitButton">
				<Setter Property="VerticalAlignment" Value="Stretch"></Setter>
				<Setter Property="CornerRadius" Value="{StaticResource CornerRadius}"></Setter>
				<Setter Property="BorderThickness" Value="1"></Setter>
			</Style>
			<Style  TargetType="SplitButton">
				<Setter Property="VerticalAlignment" Value="Stretch"></Setter>
				<Setter Property="CornerRadius" Value="{StaticResource CornerRadius}"></Setter>
				<Setter Property="BorderThickness" Value="1"></Setter>
			</Style>
			<Style TargetType="ComboBox" >
				<Setter Property="VerticalAlignment" Value="Stretch"></Setter>
				<Setter Property="CornerRadius" Value="{StaticResource CornerRadius}"></Setter>
				<Setter Property="MinWidth" Value="50"></Setter>
				<Setter Property="BorderThickness" Value="1"></Setter>
			</Style>

			<Style TargetType="NumberBox" >
				<Setter Property="VerticalAlignment" Value="Stretch"></Setter>
				<Setter Property="CornerRadius" Value="{StaticResource CornerRadius}"></Setter>
				<Setter Property="BorderThickness" Value="1"></Setter>
				<Setter Property="Foreground" Value="{ThemeResource ForegroundColor}"></Setter>
			</Style>

			<Style TargetType="TextBlock" x:Key="RibbonTextBlock" BasedOn="{StaticResource BodyTextBlockStyle}">
				<Setter Property="Foreground" Value="{ThemeResource ForegroundColor}"></Setter>
				<Setter Property="VerticalAlignment" Value="Center"></Setter>
				<Setter Property="TextWrapping" Value="WrapWholeWords"></Setter>
				<Setter Property="MaxWidth" Value="200"></Setter>
				<Setter Property="MaxLines" Value="2"></Setter>
			</Style>

			<Style TargetType="TextBlock" BasedOn="{StaticResource BodyTextBlockStyle}">
				<Setter Property="Foreground" Value="{ThemeResource ForegroundColor}"></Setter>
				<Setter Property="VerticalAlignment" Value="Center"></Setter>
			</Style>

			<!--<ui:AttachedDropShadow x:Key="CommonShadow" BlurRadius="6" Offset="6" />-->

			<!--<AcrylicBrush x:Key="CustomAcrylicBrush" TintOpacity="0.2" TintLuminosityOpacity="{ThemeResource TintLuminosityOpacity}" TintColor="{ThemeResource BackgroundColor}" FallbackColor="{ThemeResource BackgroundColor}" TintTransitionDuration="0" />-->

			<SolidColorBrush x:Key="CustomAcrylicBrush" Color="{Binding AccentColorLowLow, Source={StaticResource AccentColorSetting}, Mode=OneWay}" />
			<StaticResource x:Key="InfoBarInformationalSeverityBackgroundBrush" ResourceKey="CustomAcrylicBrush" />
			<SolidColorBrush x:Key="SolidBackgroundFillColorTertiaryBrush" Color="{ThemeResource BackgroundColorSemiTransparent}" />
			
			<Style TargetType="Grid" x:Key="RibbonGrid">
				<Setter Property="Background" Value="{ThemeResource SolidBackgroundFillColorTertiary }"></Setter>
			</Style>
			<Style TargetType="ScrollViewer" x:Key="RibbonView">
				<Setter Property="Background" Value="{StaticResource CustomAcrylicBrush}"></Setter>
				<Setter Property="Height" Value="48"></Setter>
				<!--<Setter Property="CornerRadius" Value="{Binding RibbonCornerRadius, Source={StaticResource VM}, Mode=OneWay}"></Setter>
				<Setter Property="Margin" Value="6,0,6,6"></Setter>-->
				<Setter Property="Padding" Value="6,6,6,6"></Setter>
				<!--<Setter Property="ui:Effects.Shadow" Value="{StaticResource CommonShadow }"></Setter>-->
				<Setter Property="HorizontalScrollMode" Value="Enabled"></Setter>
				<Setter Property="HorizontalScrollBarVisibility" Value="Hidden"></Setter>
				<Setter Property="VerticalScrollMode" Value="Disabled"></Setter>
				<Setter Property="VerticalScrollBarVisibility" Value="Disabled"></Setter>
			</Style>

			<Style TargetType="StackPanel" x:Key="RibbonContent">
				<Setter Property="Orientation" Value="Horizontal"></Setter>
				<Setter Property="Spacing" Value="6"></Setter>
				<Setter Property="animations:Implicit.ShowAnimations">
					<Setter.Value>
						<animations:ImplicitAnimationSet>
							<animations:OpacityAnimation Duration="0:0:0.15" EasingMode="EaseInOut" EasingType="Quadratic" From="0.2" To="1"></animations:OpacityAnimation>
							<animations:TranslationAnimation Duration="0:0:0.2" EasingMode="EaseInOut" EasingType="Quadratic" From="-12, 0, 0" To="0"></animations:TranslationAnimation>
						</animations:ImplicitAnimationSet>
					</Setter.Value>
				</Setter>
				<Setter Property="animations:Implicit.HideAnimations">
					<Setter.Value>
						<animations:ImplicitAnimationSet>
							<animations:OpacityAnimation Duration="0:0:0.05" EasingMode="EaseInOut" EasingType="Quadratic" From="1" To="0"></animations:OpacityAnimation>
						</animations:ImplicitAnimationSet>
					</Setter.Value>
				</Setter>
			</Style>

			<helpers:AccentColorSetting x:Key="AccentColorSetting"/>

			<helpers:ArgumentOptionalToText x:Key="ArgumentOptionalToText"></helpers:ArgumentOptionalToText>
			<helpers:Multiply x:Key="Multiply"></helpers:Multiply>
			<helpers:ArgumentTypeToText x:Key="ArgumentTypeToText"></helpers:ArgumentTypeToText>
			<helpers:ParameterDefaultToDecoration x:Key="ParameterDefaultToDecoration"></helpers:ParameterDefaultToDecoration>
			<helpers:ParameterTypeToText x:Key="ParameterTypeToText"></helpers:ParameterTypeToText>
			<helpers:CommandTypeToText x:Key="CommandTypeToText"></helpers:CommandTypeToText>
			<helpers:StringComparer x:Key="StringComparer"></helpers:StringComparer>
			<helpers:StringToThemeConverter x:Key="StringToTheme"></helpers:StringToThemeConverter>
			<helpers:StringToVisibility x:Key="StringToVisibility"></helpers:StringToVisibility>
			<helpers:ErrorStringToVisibilityConverter x:Key="ErrorStringToVisibilityConverter"></helpers:ErrorStringToVisibilityConverter>
			<helpers:StringToEnum x:Key="StringToEnum"></helpers:StringToEnum>
			<helpers:EnumToString x:Key="EnumToString"></helpers:EnumToString>
			<helpers:BoolToVisibilityConverter x:Key="BoolToVisibility" />
			<helpers:BoolToInvisibilityConverter x:Key="BoolToInvisibility" />
			<helpers:BoolToWidthConverter x:Key="BoolToWidth" />
			<helpers:BoolToMinWidthConverter x:Key="BoolToMinWidth" />
			<helpers:BoolToFontWeightConverter x:Key="BoolToFontWeight" />
			<helpers:BoolToStarGlyph x:Key="BoolToStarGlyph" />
			<helpers:BoolToOpacity x:Key="BoolToOpacity" />
			<helpers:BoolToForeground x:Key="BoolToForeground" />
			<helpers:BoolInverter x:Key="BoolInverter" />
			<helpers:ListInverter x:Key="ListInverter" />
			<helpers:LevelToVisibility x:Key="LevelToVisibility" />
			<helpers:SetRootVisibility x:Key="SetRootVisibility" />
			<helpers:FileTypeToVisibility x:Key="FileTypeToVisibility" />
			<helpers:VisibilityToCornerRadius x:Key="VisibilityToCornerRadius" />
			<helpers:VisibilityToBorderThickness x:Key="VisibilityToBorderThickness" />

			<SolidColorBrush x:Key="WindowCaptionBackground" Color="{Binding AccentColor.Color, Source={StaticResource VM}}"></SolidColorBrush>
			<SolidColorBrush x:Key="WindowCaptionBackgroundDisabled" Color="{Binding AccentColor.Color, Source={StaticResource VM}}"></SolidColorBrush>

			
			<!--<SolidColorBrush x:Key="TabViewItemHeaderBackgroundSelected" Color="Green"></SolidColorBrush>-->
			<SolidColorBrush x:Key="TabViewItemSeparator" Color="Transparent"></SolidColorBrush>
			
			<ResourceDictionary.ThemeDictionaries>
				<ResourceDictionary x:Key="Default">
					
					<ResourceDictionary.MergedDictionaries>
						<!--<ColorPaletteResources  Accent="ForestGreen"  BaseHigh="Yellow" BaseLow="Orange" BaseMedium="Red" BaseMediumHigh="Violet" BaseMediumLow="Blue" />-->
						<!--<ColorPaletteResources Accent="#FFBFCF36" AltHigh="#FFFFFFFF" AltLow="#FFFFFFFF" AltMedium="#FFFFFFFF" AltMediumHigh="#FFFFFFFF" AltMediumLow="#FFFFFFFF" BaseHigh="#FF000000" BaseLow="#FFCCCCCC" BaseMedium="#FF898989" BaseMediumHigh="#FF5D5D5D" BaseMediumLow="#FF737373" ChromeAltLow="#FF5D5D5D" ChromeBlackHigh="#FF000000" ChromeBlackLow="#FFCCCCCC" ChromeBlackMedium="#FF5D5D5D" ChromeBlackMediumLow="#FF898989" ChromeDisabledHigh="#FFCCCCCC" ChromeDisabledLow="#FF898989" ChromeGray="#FF737373" ChromeHigh="#FFCCCCCC" ChromeLow="#FFECECEC" ChromeMedium="#FFE6E6E6" ChromeMediumLow="#FFECECEC" ChromeWhite="#FFFFFFFF" ListLow="#FFE6E6E6" ListMedium="#FFCCCCCC" />-->
					</ResourceDictionary.MergedDictionaries>
					
					<SolidColorBrush x:Key="WindowCaptionForeground">#FFF</SolidColorBrush>
					<SolidColorBrush x:Key="WindowCaptionForegroundDisabled">#DDD</SolidColorBrush>

					<SolidColorBrush x:Key="TabViewBorderBrush" Color="Transparent"></SolidColorBrush>
					<Color x:Key="CardStrokeColorDefault">Transparent</Color>

					<Color x:Key="SystemAccentColorLight2" >DarkGray</Color>
					<Color x:Key="SystemAccentColorDark2" >DarkGray</Color>

					<Color x:Key="ForegroundColor">#FFF</Color>
					<Color x:Key="BackgroundColor">#000</Color>
					<Color x:Key="BackgroundColorSemiTransparent">#A000</Color>
					<Color x:Key="ForegroundLightColor">#AAA</Color>

					<x:Double x:Key="TintLuminosityOpacity">0.1</x:Double>
					
				</ResourceDictionary>

				<ResourceDictionary x:Key="HighContrast">

					<SolidColorBrush x:Key="WindowCaptionForeground">White</SolidColorBrush>
					<SolidColorBrush x:Key="WindowCaptionForegroundDisabled">White</SolidColorBrush>
					
					<Color x:Key="SystemAccentColorLight2" >DarkGray</Color>
					<Color x:Key="SystemAccentColorDark1" >DarkGray</Color>

					<Color x:Key="ForegroundColor">#FFF</Color>
					<Color x:Key="BackgroundColor">#000</Color>
					<Color x:Key="BackgroundColorSemiTransparent">#000</Color>
					<Color x:Key="ForegroundLightColor">#FFF</Color>

					<x:Double x:Key="TintLuminosityOpacity">1.0</x:Double>
					
				</ResourceDictionary>

				<ResourceDictionary x:Key="Light">
					<ResourceDictionary.MergedDictionaries>
						<!--<ColorPaletteResources  Accent="Blue"  />-->
					</ResourceDictionary.MergedDictionaries>

					<SolidColorBrush x:Key="WindowCaptionForeground" >#000</SolidColorBrush>
					<SolidColorBrush x:Key="WindowCaptionForegroundDisabled">#333</SolidColorBrush>

					<Color x:Key="SystemAccentColorLight2" >DarkGray</Color>
					<Color x:Key="SystemAccentColorDark1" >DarkGray</Color>

					<Color x:Key="ForegroundColor">#000</Color>
					<Color x:Key="BackgroundColor">#EEE</Color>
					<Color x:Key="BackgroundColorSemiTransparent">#AFFF</Color>
					<Color x:Key="ForegroundLightColor">#555</Color>

					<x:Double x:Key="TintLuminosityOpacity">0.1</x:Double>

				</ResourceDictionary>
			</ResourceDictionary.ThemeDictionaries>
		</ResourceDictionary>
	</Application.Resources>
</Application>
